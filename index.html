
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Management Presence Server (MPS) that will serve as the broker between the management console and the IntelÂ® AMT clients">
      
      
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>MPS Service</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.f0267088.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#get-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="." title="MPS Service" class="md-header-nav__button md-logo" aria-label="MPS Service">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            MPS Service
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Getting started
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="MPS Service" class="md-nav__button md-logo" aria-label="MPS Service">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    MPS Service
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="activateAMT/" class="md-nav__link">
      Activate AMT
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Getting started
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="." class="md-nav__link md-nav__link--active">
      Getting started
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview-of-the-management-presence-server-mps" class="md-nav__link">
    Overview of the Management Presence Server (MPS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-for-mps-server" class="md-nav__link">
    Requirements for MPS Server
  </a>
  
    <nav class="md-nav" aria-label="Requirements for MPS Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#software-requirements" class="md-nav__link">
    Software Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware-requirements" class="md-nav__link">
    Hardware Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-platforms" class="md-nav__link">
    Supported Platforms
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mps-server-set-up" class="md-nav__link">
    MPS Server: Set Up
  </a>
  
    <nav class="md-nav" aria-label="MPS Server: Set Up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-clone-the-repository" class="md-nav__link">
    1. Clone the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-addmodify-configjson" class="md-nav__link">
    2. Add/modify config.json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-addmodify-credentialsjson" class="md-nav__link">
    3. Add/modify credentials.json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-addmodify-guidsjson" class="md-nav__link">
    4. Add/modify guids.json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-start-the-server" class="md-nav__link">
    5. Start the server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-connect-an-amt-device" class="md-nav__link">
    6. Connect an AMT device
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="api/" class="md-nav__link">
      API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Admin Methods
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Admin Methods" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Admin Methods
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="methods/alldevices/" class="md-nav__link">
      All Devices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/connecteddevices/" class="md-nav__link">
      Connected Devices
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/disconnect/" class="md-nav__link">
      Disconnect
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/mescript/" class="md-nav__link">
      MEScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/rootcertificate/" class="md-nav__link">
      MPS Root Certificate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      AMT Methods
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="AMT Methods" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        AMT Methods
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="methods/auditlog/" class="md-nav__link">
      Audit log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/eventlog/" class="md-nav__link">
      Event log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/generalsettings/" class="md-nav__link">
      General settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/hardwareinfo/" class="md-nav__link">
      Hardware information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/poweraction/" class="md-nav__link">
      Power action
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/powercapabilities/" class="md-nav__link">
      Power capabilities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/powerstate/" class="md-nav__link">
      Power state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/version/" class="md-nav__link">
      Version
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Types
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Types" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Types
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Request body
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Response error body
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Audit log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Event log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      General Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Hardware information
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Power action
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Power capabilities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Power state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="methods/types/" class="md-nav__link">
      Version
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="release-notes/" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="license/" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview-of-the-management-presence-server-mps" class="md-nav__link">
    Overview of the Management Presence Server (MPS)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements-for-mps-server" class="md-nav__link">
    Requirements for MPS Server
  </a>
  
    <nav class="md-nav" aria-label="Requirements for MPS Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#software-requirements" class="md-nav__link">
    Software Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardware-requirements" class="md-nav__link">
    Hardware Requirements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-platforms" class="md-nav__link">
    Supported Platforms
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mps-server-set-up" class="md-nav__link">
    MPS Server: Set Up
  </a>
  
    <nav class="md-nav" aria-label="MPS Server: Set Up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-clone-the-repository" class="md-nav__link">
    1. Clone the repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-addmodify-configjson" class="md-nav__link">
    2. Add/modify config.json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-addmodify-credentialsjson" class="md-nav__link">
    3. Add/modify credentials.json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-addmodify-guidsjson" class="md-nav__link">
    4. Add/modify guids.json
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-start-the-server" class="md-nav__link">
    5. Start the server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-connect-an-amt-device" class="md-nav__link">
    6. Connect an AMT device
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="get-started">Get started<a class="headerlink" href="#get-started" title="Permanent link">&para;</a></h1>
<p>The instructions in this document offers the following guidance:</p>
<ul>
<li>Set up the Management Presence Server</li>
<li>Modify json configuration sample files</li>
<li>Connect to an activated AMT device</li>
</ul>
<h2 id="overview-of-the-management-presence-server-mps">Overview of the Management Presence Server (MPS)<a class="headerlink" href="#overview-of-the-management-presence-server-mps" title="Permanent link">&para;</a></h2>
<p>MPS is cloud agnostic microservice that enables Intel AMT-based platforms connecting over the Internet to connect securely to manageability consoles. The image below is a representation of using MPS server connected to an activated AMT device.</p>
<p><a href="assets/images/mpsdiagram_final.png"><img alt="mps" src="assets/images/mpsdiagram_final.png" /></a></p>
<h2 id="requirements-for-mps-server">Requirements for MPS Server<a class="headerlink" href="#requirements-for-mps-server" title="Permanent link">&para;</a></h2>
<h3 id="software-requirements">Software Requirements<a class="headerlink" href="#software-requirements" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://git-scm.com/downloads">git</a></li>
<li><a href="https://nodejs.org/dist/latest-v10.x/">node.js v10 or greater</a></li>
</ul>
<h3 id="hardware-requirements">Hardware Requirements<a class="headerlink" href="#hardware-requirements" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="activateAMT/">Activated Device with Intel&reg; AMT</a></li>
<li>Computer or device used to connect to MPS server</li>
<li>Computer or device to connect the client console</li>
</ul>
<h3 id="supported-platforms">Supported Platforms<a class="headerlink" href="#supported-platforms" title="Permanent link">&para;</a></h3>
<p>The MPS server can run on all platforms that support node.js. One consideration is exposing ports on the server used to run MPS. Typically, these are:</p>
<ul>
<li>3000</li>
<li>4433 </li>
</ul>
<h2 id="mps-server-set-up">MPS Server: Set Up<a class="headerlink" href="#mps-server-set-up" title="Permanent link">&para;</a></h2>
<p>The instructions below are performed on the MPS server. To begin, run a platform that supports nodejs. </p>
<p>Example:</p>
<ul>
<li>Virtual Machine with nodejs support</li>
<li>Dedicated Server with nodejs support</li>
</ul>
<p>Once the software pre-requisites are met for the MPS, you can begin the rest of the set up of MPS. </p>
<h3 id="1-clone-the-repository">1. Clone the repository<a class="headerlink" href="#1-clone-the-repository" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>git clone https://github.com/open-amt-cloud-toolkit/MPS.git
cd MPS
</code></pre></div>

<h3 id="2-addmodify-configjson">2. Add/modify config.json<a class="headerlink" href="#2-addmodify-configjson" title="Permanent link">&para;</a></h3>
<p>Navigate to the private directory within the MPS directory,</p>
<div class="codehilite"><pre><span></span><code>cd ~/MPS/private
</code></pre></div>

<p>Create a <strong>config.json</strong> file.
     *Copy the example file in the directory.</p>
<div class="codehilite"><pre><span></span><code>cp config.json.example config.json
</code></pre></div>

<p>These following parameters can be configured.</p>
<table>
<thead>
<tr>
<th align="left">Option</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>usewhitelist</strong></td>
<td align="left">set to true to whitelist AMT GUIDs stored in guids.json</td>
</tr>
<tr>
<td align="left"><strong>commonName</strong></td>
<td align="left">used in self signed certificate, can be either FQDN or IP address</td>
</tr>
<tr>
<td align="left"><strong>mpsport</strong></td>
<td align="left">port</td>
</tr>
<tr>
<td align="left"><strong>mpsusername</strong></td>
<td align="left">new username for mpsusername set during this current process</td>
</tr>
<tr>
<td align="left"><strong>mpspass</strong></td>
<td align="left">new password for the user set during this current process</td>
</tr>
<tr>
<td align="left"><strong>useglobalmpscredentials</strong></td>
<td align="left">When set to true, any device using <strong>mpsusername</strong> and  <em>mpspass</em> in config.json are allowed to connect. When set to false, MPS validates credentials sent by AMT device using credentials.json.</td>
</tr>
<tr>
<td align="left"><strong>country</strong></td>
<td align="left">name of country</td>
</tr>
<tr>
<td align="left"><strong>company</strong></td>
<td align="left">name of company</td>
</tr>
<tr>
<td align="left"><strong>debug</strong></td>
<td align="left">debug option set to true or false</td>
</tr>
<tr>
<td align="left"><strong>listenany</strong></td>
<td align="left">listen to any set to true or false</td>
</tr>
<tr>
<td align="left"><strong>https</strong></td>
<td align="left">set to true to enable TLS on HTTP server</td>
</tr>
<tr>
<td align="left"><strong>mpstlsoffload</strong></td>
<td align="left">set to true to run MPS without TLS</td>
</tr>
<tr>
<td align="left"><strong>webport</strong></td>
<td align="left">Port used by WebServer (or HTTP server)</td>
</tr>
<tr>
<td align="left"><strong>generateCertificates</strong></td>
<td align="left">Generates certificates automatically. When set to true, SSL and Root cert are generated and stored in private folder</td>
</tr>
<tr>
<td align="left"><strong>loggeroff</strong>:</td>
<td align="left">Logging is enabled by default. Set to <strong>true</strong> to disable logging.</td>
</tr>
</tbody>
</table>
<p>mpusername and mpspass can be set to whatever credentials you choose to set, at this time. This will math the mpsusername and mpspass in other config files edited during this process.</p>
<p>For example:</p>
<div class="codehilite"><pre><span></span><code>        {
                &quot;usewhitelist&quot; : false,
                &quot;commonName&quot;: &quot;iot-demosetup.lab.local.com&quot;,
                &quot;mpsport&quot;: 4433,
                &quot;mpsusername&quot;: &quot;standalone&quot;,
                &quot;mpspass&quot;: &quot;G@ppm0ym&quot;,
                &quot;useglobalmpscredentials&quot;: true,
                &quot;country&quot;: &quot;US&quot;,
                &quot;company&quot;: &quot;NoCorp&quot;,
                &quot;debug&quot;: true,
                &quot;listenany&quot;: true,
                &quot;https&quot;: true,
                &quot;mpstlsoffload&quot;: false,
                &quot;webport&quot; : 3000,
                &quot;generateCertificates&quot;: true,
                &quot;loggeroff&quot;: true
        }
</code></pre></div>

<h3 id="3-addmodify-credentialsjson">3. Add/modify credentials.json<a class="headerlink" href="#3-addmodify-credentialsjson" title="Permanent link">&para;</a></h3>
<p>If not in the ~/MPS/private directory, navigate to the private directory within the MPS directory.</p>
<div class="codehilite"><pre><span></span><code>cp credentials.json.sample credentials.json
</code></pre></div>

<p><strong>AMT GUID</strong></p>
<p>Each AMT device has a unique identifier (GUID) assigned to it by default. This GUID will be used as the reference to each device record. </p>
<p>To obtain the GUID on the AMT device, open a command prompt, navigate to where meshcmd.exe resides, and run <code>meshcmd amtuuid</code>. The GUID will display.</p>
<table>
<thead>
<tr>
<th align="left">Option</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>name</strong></td>
<td align="left">AMT hostname or user friendly identifier</td>
</tr>
<tr>
<td align="left"><strong>mpsuser</strong></td>
<td align="left">AMT Device uses this as the user name while connecting to MPS. This is set once by the developer</td>
</tr>
<tr>
<td align="left"><strong>mpspass</strong></td>
<td align="left">AMT Device uses this as the password while connecting to MPS. This is set once by the developer</td>
</tr>
<tr>
<td align="left"><strong>amtuser</strong></td>
<td align="left">MPS uses this as the AMT user name when making AMT API calls (WSMAN or Redirection). This is the username set in the AMT configuration</td>
</tr>
<tr>
<td align="left"><strong>amtpass</strong></td>
<td align="left">MPS uses this as the AMT password when making AMT API calls (WSMAN or Redirection). This is the password set during AMT configuration</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">AMT and MPS password security recommendation</p>
</div>
<p>Intel highly recommends that you don't use same password for MPS AMT. An example strong password would contain:</p>
<ul>
<li>at least eight characters</li>
<li>at least one uppercase letter</li>
<li>one lowercase letter</li>
<li>one digit</li>
<li>one special character</li>
</ul>
<p>For example:</p>
<div class="codehilite"><pre><span></span><code>        <span class="p p-Indicator">{</span>
        <span class="s">&quot;8dad96cb-c3db-11e6-9c43-bc0000d20000&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
            <span class="s">&quot;name&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;Win7-machine&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;mpsuser&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;standalone&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;mpspass&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;G@ppm0ym&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;amtuser&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;admin&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;amtpass&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;G@ppm0ym&quot;</span>
        <span class="p p-Indicator">},</span>
        <span class="s">&quot;bf49cf00-9164-11e4-952b-b8aeed7ec594&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
            <span class="s">&quot;name&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;Ubuntu-machine&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;mpsuser&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;xenial&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;mpspass&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;G@ppm0ym&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;amtuser&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;admin&quot;</span><span class="p p-Indicator">,</span>
            <span class="s">&quot;amtpass&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;G@ppm0ym&quot;</span>
        <span class="p p-Indicator">}</span>
    <span class="p p-Indicator">}</span>
</code></pre></div>

<h3 id="4-addmodify-guidsjson">4. Add/modify guids.json<a class="headerlink" href="#4-addmodify-guidsjson" title="Permanent link">&para;</a></h3>
<p>If <em>usewhitelist</em> is set to <em>true</em> in the config.json file, add a guids.json file in <em>private</em> directory to whitelist AMT GUIDs that are allowed to connect to MPS. </p>
<p>Use <strong>guids.json.sample</strong> as an reference to create the guids.json and populate it with guids for whitelisting. This file is used to simulate whitelisting based on AMT GUIDs.</p>
<p>Navigate to the ~/MPS/private directory.</p>
<div class="codehilite"><pre><span></span><code>cd ~/MPS/private
</code></pre></div>

<p>Create the guids.json file.</p>
<div class="codehilite"><pre><span></span><code>cp credentials.json.sample credentials.json
</code></pre></div>

<p>Edit this file to include your GUID(s). The GUID can be found using meshcommander. On the device with AMT activated, change to the directory where meshcmd.exe was downloaded. For example </p>
<p>For example:</p>
<div class="codehilite"><pre><span></span><code><span class="p p-Indicator">[</span><span class="s">&quot;8dad96cb-c3db-11e6-9c43-bc0000d20000&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;12345678-9abc-def1-2345-123456789000&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3 id="5-start-the-server">5. Start the server<a class="headerlink" href="#5-start-the-server" title="Permanent link">&para;</a></h3>
<p>Navigate to the MPS directory. Run the following commands:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">npm</span> <span class="nx">install</span>
<span class="nx">npm</span> <span class="nx">start</span>
</code></pre></div>

<p>This will install all the dependencies and start the server. Webserver (or HTTPS server) runs on port 3000 by default and MPS Server listens on port 4433.
Certificates are generated and stored in private folder.</p>
<p><a href="assets/images/MPS_npminstall.PNG"><img alt="mps" src="assets/images/MPS_npminstall.PNG" /></a></p>
<h3 id="6-connect-an-amt-device">6. Connect an AMT device<a class="headerlink" href="#6-connect-an-amt-device" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Make sure the AMT device is connected to the internet.</p>
</li>
<li>
<p>On the device, browse to the MPS server using the IP address or domain </p>
</li>
</ul>
<p><strong>Example URL</strong>: https://MPS-IPaddress:3000</p>
<ul>
<li>Click <strong>Download MESCRIPT</strong>. </li>
<li>This will download a <strong>cira_setup.mescript</strong> file.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">MEScript<p>MEScript files are used by MeshCMD to execute a series of actions on the AMT device.</p>
</p>
</div>
<p><a href="assets/images/MPS_DownloadMEScript.PNG"><img alt="mps" src="assets/images/MPS_DownloadMEScript.PNG" /></a></p>
<ul>
<li>Next, locate the meshcommander.exe download previously.</li>
</ul>
<p><a href="assets/images/MPS_MeshCommander.PNG"><img alt="mps" src="assets/images/MPS_MeshCommander.PNG" /></a></p>
<ul>
<li>Browse to the folder where MEScript and MeshCMD are downloaded. Open an elevated or administrator command prompt or cli. Run the below command. This runs a script that does all the configuration required for CIRA setup.<ol>
<li>Specifies the <strong>root certificate</strong> that the Firmware (ME) should use for TLS negotiation.</li>
<li>Specifies the <strong>login credentials</strong> that the Firmware should use when connecting to MPS.</li>
<li>Specifies the <strong>periodic connection</strong> time the Firmware should use to maintain MPS connection.</li>
<li>Specifies the <strong>home domain suffix</strong> used to enable environment detection (When device is outside the home domain, AMT uses CIRA to connect to MPS).</li>
</ol>
</li>
</ul>
<div class="codehilite"><pre><span></span><code>    <span class="l l-Scalar l-Scalar-Plain">meshcmd.exe amtscript --script cira_setup.mescript --pass &lt;amt password&gt;</span>
</code></pre></div>

<ul>
<li>The device will now connect to the MPS Server.</li>
</ul>
<p><a href="assets/images/MPS_DeviceOnline.PNG"><img alt="mps" src="assets/images/MPS_DeviceOnline.PNG" /></a></p>
<div class="admonition info">
<p class="admonition-title">Device credentials</p>
<p>Make sure that AMT guid entry is present in credential.json file. Also include the AMT guid in guids.json file if <em>usewhitelist</em> is set to <em>true</em> in config.json file.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="activateAMT/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Activate AMT
              </div>
            </div>
          </a>
        
        
          <a href="api/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                API
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; Intel Corporation 2019
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>