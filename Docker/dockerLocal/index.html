
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>Build Docker* Images - Active Edge: Remote Edge Management Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f0267088.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/branding.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#build-and-deploy-docker-images-for-mps-and-rps-locally" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Active Edge: Remote Edge Management Toolkit" class="md-header-nav__button md-logo" aria-label="Active Edge: Remote Edge Management Toolkit">
      
  <img src="../../assets/images/logo-white-75px.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Active Edge: Remote Edge Management Toolkit
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Build Docker* Images
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/open-amt-cloud-toolkit/mps/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    open-amt-cloud-toolkit/mps
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    
    
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../Local/overview/" class="md-tabs__link">
          Getting Started
        </a>
      
    </li>
  

  

  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../General/manageDevice/" class="md-tabs__link">
          Microservices
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../dockerCloud/" class="md-tabs__link">
          Tutorials
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../APIs/indexMPS/" class="md-tabs__link">
          APIs
        </a>
      
    </li>
  

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../Topics/misc/" class="md-tabs__link">
          Active Edge Topics
        </a>
      
    </li>
  

      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Active Edge: Remote Edge Management Toolkit" class="md-nav__button md-logo" aria-label="Active Edge: Remote Edge Management Toolkit">
      
  <img src="../../assets/images/logo-white-75px.png" alt="logo">

    </a>
    Active Edge: Remote Edge Management Toolkit
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/open-amt-cloud-toolkit/mps/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    open-amt-cloud-toolkit/mps
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1" checked>
    
    <label class="md-nav__link" for="nav-2-1">
      Installation MPS & RPS
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Installation MPS & RPS" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        <span class="md-nav__icon md-icon"></span>
        Installation MPS & RPS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-1" type="checkbox" id="nav-2-1-1">
    
    <label class="md-nav__link" for="nav-2-1-1">
      Local Setup
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Local Setup" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-1">
        <span class="md-nav__icon md-icon"></span>
        Local Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Local/overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Local/installMPS/" class="md-nav__link">
      Install MPS Locally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Local/installRPS/" class="md-nav__link">
      Install RPS Locally
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-1-2" type="checkbox" id="nav-2-1-2" checked>
    
    <label class="md-nav__link" for="nav-2-1-2">
      Docker* Images
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Docker* Images" data-md-level="3">
      <label class="md-nav__title" for="nav-2-1-2">
        <span class="md-nav__icon md-icon"></span>
        Docker* Images
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Build Docker* Images
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Build Docker* Images
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-youll-do" class="md-nav__link">
    What You'll Do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-mps-and-rps-repositories" class="md-nav__link">
    Clone the MPS and RPS Repositories
  </a>
  
    <nav class="md-nav" aria-label="Clone the MPS and RPS Repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-mps" class="md-nav__link">
    Clone MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone-rps" class="md-nav__link">
    Clone RPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-the-docker-images" class="md-nav__link">
    Build the Docker Images
  </a>
  
    <nav class="md-nav" aria-label="Build the Docker Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-mps" class="md-nav__link">
    Build MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-rps" class="md-nav__link">
    Build RPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-environment-variables" class="md-nav__link">
    Set the Environment Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-docker-compose" class="md-nav__link">
    Run docker-compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-up" class="md-nav__link">
    Next up
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Microservices
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Microservices" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Microservices
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Managed Presence Server
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Managed Presence Server" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        <span class="md-nav__icon md-icon"></span>
        Managed Presence Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/manageDevice/" class="md-nav__link">
      MPS Device Management
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Remote Provisioning Server
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Remote Provisioning Server" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        <span class="md-nav__icon md-icon"></span>
        Remote Provisioning Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/loginToRPS/" class="md-nav__link">
      Login to RPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/createCIRAConfig/" class="md-nav__link">
      Create a CIRA Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/createProfileCCM/" class="md-nav__link">
      Create a Profile with CCM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/createProfileACM/" class="md-nav__link">
      Create a Profile with ACM
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Remote Provisioning Client
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Remote Provisioning Client" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon"></span>
        Remote Provisioning Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/buildRPC_GithubActions/" class="md-nav__link">
      Build & Run RPC (GitHub Actions)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/buildRPC/" class="md-nav__link">
      Build & Run RPC (manual)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tutorials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerCloud/" class="md-nav__link">
      Docker Images on the Cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/uitoolkit/" class="md-nav__link">
      Create Consoles with the UI Toolkit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/apiTutorial/" class="md-nav__link">
      Construct a REST API Call
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/addDatabase/" class="md-nav__link">
      Add a Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/addVault/" class="md-nav__link">
      Add Vault Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/allowlist/" class="md-nav__link">
      Use an Allowlist
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      APIs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="APIs" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../APIs/indexMPS/" class="md-nav__link">
      MPS Methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../APIs/indexRPS/" class="md-nav__link">
      RPS Methods
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../security/" class="md-nav__link">
      Security
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Active Edge Topics
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Active Edge Topics" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Active Edge Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/misc/" class="md-nav__link">
      Static and Dynamic IPs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/guids/" class="md-nav__link">
      GUIDs in Intel AMT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/mebx/" class="md-nav__link">
      Manually Configure and Unprovision
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/proxies/" class="md-nav__link">
      Proxies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../release-notes/" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../license/" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../troubleshooting/" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-youll-do" class="md-nav__link">
    What You'll Do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-mps-and-rps-repositories" class="md-nav__link">
    Clone the MPS and RPS Repositories
  </a>
  
    <nav class="md-nav" aria-label="Clone the MPS and RPS Repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-mps" class="md-nav__link">
    Clone MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone-rps" class="md-nav__link">
    Clone RPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-the-docker-images" class="md-nav__link">
    Build the Docker Images
  </a>
  
    <nav class="md-nav" aria-label="Build the Docker Images">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-mps" class="md-nav__link">
    Build MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-rps" class="md-nav__link">
    Build RPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-environment-variables" class="md-nav__link">
    Set the Environment Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-docker-compose" class="md-nav__link">
    Run docker-compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-up" class="md-nav__link">
    Next up
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/open-amt-cloud-toolkit/mps/edit/master/docs/Docker/dockerLocal.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="build-and-deploy-docker-images-for-mps-and-rps-locally">Build and Deploy Docker* Images for MPS and RPS Locally<a class="headerlink" href="#build-and-deploy-docker-images-for-mps-and-rps-locally" title="Permanent link">&para;</a></h1>
<p>Management Presence Server (MPS) and Remote Provisioning Server (RPS)  provide support for deploying the services as Docker* images, standardized packages containing an application's source code, libraries, environment, and dependencies. </p>
<p>A Docker container is the instantiation of a Docker image as a virtualized unit that separates the application from the environment. Docker* containers start and run reliably, securely, and portably inside different environments, eliminating some of the usual problems that occur with software deployment on varying platforms. </p>
<p>Get more information about Docker images and containers at <a href="https://www.docker.com/resources/what-container">Docker resources.</a></p>
<h2 id="what-youll-do">What You'll Do<a class="headerlink" href="#what-youll-do" title="Permanent link">&para;</a></h2>
<p>This section describes how to deploy MPS and RPS as Docker* images on the development system:</p>
<ol>
<li>Clone the repositories.</li>
<li>Build the images.</li>
<li>Set the environment variables.</li>
<li>Run the tool <a href="https://docs.docker.com/compose/">docker-compose</a> tool on a sample configuration file to define and enable a multi-container environment. </li>
</ol>
<h2 id="clone-the-mps-and-rps-repositories">Clone the MPS and RPS Repositories<a class="headerlink" href="#clone-the-mps-and-rps-repositories" title="Permanent link">&para;</a></h2>
<p>Navigate to a directory of your choice for development.</p>
<h3 id="clone-mps">Clone MPS<a class="headerlink" href="#clone-mps" title="Permanent link">&para;</a></h3>
<p>1. Clone the MPS repository.</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/open-amt-cloud-toolkit/mps.git
</code></pre></div>
<p>2. Checkout the ActivEdge branch.</p>
<div class="highlight"><pre><span></span><code>cd mps
git checkout ActivEdge
</code></pre></div>
<h3 id="clone-rps">Clone RPS<a class="headerlink" href="#clone-rps" title="Permanent link">&para;</a></h3>
<p>1.Clone the RPS repository to the same parent directory as MPS.</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/open-amt-cloud-toolkit/rps.git
</code></pre></div>
<p>After the <code>git clone</code> commands complete, the parent directory will contain an MPS and RPS folder.</p>
<div class="highlight"><pre><span></span><code>📦parent
 ┣ 📂mps
 ┗ 📂rps
</code></pre></div>
<p>2. Checkout the ActivEdge branch.</p>
<div class="highlight"><pre><span></span><code>cd rps
git checkout ActivEdge
</code></pre></div>
<p><br></p>
<h2 id="build-the-docker-images">Build the Docker Images<a class="headerlink" href="#build-the-docker-images" title="Permanent link">&para;</a></h2>
<p>Build the MPS and RPS Docker images from their respective directories with the <strong>build -t</strong> command, giving the image a name and tag:</p>
<p><a href="https://docs.docker.com/engine/reference/commandline/build/">docker build . -t [name:tag]</a>  </p>
<ul>
<li>Create a name and tag with lowercase letters, digits, and separators (i.e., underscores, periods, and dashes).</li>
<li>Do not end a name or tag with a separator.</li>
<li>Tags contain up to 128 characters.</li>
</ul>
<blockquote>
<p><strong>Note: Building a fresh Docker image may take several minutes.</strong> </p>
</blockquote>
<h3 id="build-mps">Build MPS<a class="headerlink" href="#build-mps" title="Permanent link">&para;</a></h3>
<p>1. Navigate to MPS folder and build the Docker image. </p>
<p><div class="highlight"><pre><span></span><code>cd ../mps
docker build . -t mps:v1
</code></pre></div>
<img alt="Image of MPS Build Completion" src="../../assets/images/MPSBuild.png" /> </p>
<blockquote>
<p><strong>Note:</strong> On completion, a security warning is normal during local setup with the default values for developer testing environments.</p>
</blockquote>
<h3 id="build-rps">Build RPS<a class="headerlink" href="#build-rps" title="Permanent link">&para;</a></h3>
<p>2. Navigate to the RPS folder and build the Docker image.</p>
<p><div class="highlight"><pre><span></span><code>cd ..
cd rps
docker build . -t rps:v1
</code></pre></div>
<img alt="Image of RPS Build Completion" src="../../assets/images/RPSBuild.png" /> </p>
<h3 id="set-the-environment-variables">Set the Environment Variables<a class="headerlink" href="#set-the-environment-variables" title="Permanent link">&para;</a></h3>
<p>3. After building the new MPS and RPS images, navigate to the mps\scripts\docker-compose folder and copy the .env.template file to .env. </p>
<div class="highlight"><pre><span></span><code>cd ..
cd mps/scripts/docker-compose
</code></pre></div>
<p>Windows Command:
<div class="highlight"><pre><span></span><code>copy .env.template .env
</code></pre></div></p>
<p>Linux Command:
<div class="highlight"><pre><span></span><code>cp .env.template .env
</code></pre></div></p>
<blockquote>
<p><strong>Note: Preserve the .env.template file.</strong></p>
<p>This file is very important to maintain. Always copy to a new file. </p>
</blockquote>
<p>4. Open the .env file in a text editor. Set the image-related environment variables within the .env file.</p>
<p>Change the following fields:</p>
<table>
<thead>
<tr>
<th align="left">Field</th>
<th align="left">Change to</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>RPS_IMAGE</strong></td>
<td align="left">rps:v1</td>
</tr>
<tr>
<td align="left"><strong>MPS_IMAGE</strong></td>
<td align="left">mps:v1</td>
</tr>
<tr>
<td align="left"><strong>MPS_COMMON_NAME</strong></td>
<td align="left">Your development system's IP address</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note: Forgot the name and tag from the build?</strong></p>
<p>The <strong>docker images</strong> command lists repository names, tags, image IDs, and sizes. </p>
<div class="highlight"><pre><span></span><code>docker images
</code></pre></div>
<p><img alt="Image of docker images command" src="../../assets/images/DICommands.png" /></p>
</blockquote>
<!-- 5. Set the proper proxy values if behind a proxy.

   HTTP_PROXY=http://[your-proxy-server]:[your-proxy-server-port]
   HTTPS_PROXY=http://[your-proxy-server]:[your-proxy-server-port]

   <div class="highlight"><pre><span></span><code>HTTP_PROXY=http://10.16.01.01:3030
HTTPS_PROXY=http://10.16.01.01:3030
</code></pre></div>

   > **NOTE: Behind a Corporate Proxy?**
   >
   > To download images and install npm packages inside a container on start, modify settings in ~/docker/config.json to reflect the correct proxy address. 
   >
   > For more information about how to modify the proxy settings, see [Configure Docker Client](https://docs.docker.com/network/proxy/#configure-the-docker-client).
   > -->

<h2 id="run-docker-compose">Run docker-compose<a class="headerlink" href="#run-docker-compose" title="Permanent link">&para;</a></h2>
<p>The environment file .env now contains the MPS and RPS environment variables to pass to the Docker engine. </p>
<p>1. Navigate to the the <code>mps/scripts/docker-compose</code> directory. </p>
<p>2. Run the <code>docker-compose up</code> command, which starts the containers. approximately 2-3 minutes to start the containers.</p>
<div class="highlight"><pre><span></span><code>docker-compose up
</code></pre></div>
<p>3. <strong>Important</strong>: While the <code>docker-compose up</code> command is running, you may see a pop-up ask for permission for Docker Desktop Filesharing. You must select <strong>Share It</strong> for the <code>docker-compose up</code> command to execute successfully.  If the pop-up expires,<code>docker-compose up</code> will fail.  You must run <code>docker-compose down</code> and then rerun <code>docker-compose up</code> to successfully start the containers.</p>
<p><img alt="Image of filesharing" src="../../assets/images/DockerFileSharing.png" /></p>
<p><br></p>
<p>Successful Output:</p>
<p><img alt="Image of docker compose command" src="../../assets/images/DockerCompose.png" /></p>
<!-- ## Check Logs
Alternatively, run `docker-compose up -d` to start the containers in the background.  To view the logs in a separate window, follow the steps below.

Check the logs to ensure the MPS and RPS services are properly handling the traffic from end devices. 

1. Allow the previous command line window for mps and rps to continue to run. Open a new command line window to run the **docker-compose logs** command. 
2. Navigate to the docker-compose folder

3. Type the **docker-compose logs** command.

   docker-compose logs [name of service]

   <div class="highlight"><pre><span></span><code>docker-compose logs mps
</code></pre></div>
   ![Image of Docker Log Output](../assets/images/DockerLogFile.png) 
   A log file may provide information for troubleshooting these problems: -->

<p><br></p>
<h2 id="next-up">Next up<a class="headerlink" href="#next-up" title="Permanent link">&para;</a></h2>
<p><a href="../../General/loginToRPS/">Login to RPS</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../overview/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Overview
              </div>
            </div>
          </a>
        
        
          <a href="../../General/manageDevice/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                MPS Device Management
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Intel Corporation
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>